# 06. Widgets de entrada. Botones. →Formularios

- Botones `st.button()`, `st.download_button()` y `st.link_button()`

    ```python
    # En el archivo botones.py
    import streamlit as st
    
    # Desencadenar acciones al pulsar el botón
    boton = st.button("Pulsa", on_click = lambda: print("Pulsado"))
    ```

    ```python
    # Descargar un objeto
    text_contents = '''Texto que se descargará'''
    st.download_button('Descarga archivo de texto', text_contents)
    ```

    ```python
    # Enlace a página
    st.link_button("Galería de plantillas para streamlit",
        "https://streamlit.io/gallery")
    ```

- Barra de progreso

    ```python
    # En el archivo procesos.py
    import time
    # La barra empieza en 0 y le doy valores de 1 en 1 cada decima de segundo hasta 100
    progress_text = "La operacion se está realizando. Espere."
    my_bar = st.progress(0, text=progress_text)
    
    for percent_complete in range(100):
        time.sleep(0.05)
        my_bar.progress(percent_complete + 1, text=progress_text)
    time.sleep(1)
    my_bar.empty()
    
    st.button("Rerun")
    ```

## Manejo de formularios con Streamlit

- En archivo formularios.py

    ```python
    import streamlit as st
    
    st.markdown("<h1 style='text-align: center;'>Registro de Usuario</h1>", unsafe_allow_html=True)
    
    # Crear el formulario
    with st.form("Formulario", clear_on_submit=True):
        col1, col2 = st.columns(2)
    
        # Entradas del formulario
        primer_nombre = col1.text_input("Primer Nombre")
        apellido = col2.text_input("Apellido")
        correo = st.text_input("Correo Electrónico")
        contraseña = st.text_input("Contraseña", type="password")
        confirmar_contraseña = st.text_input("Confirmar Contraseña", type="password")
    
        dia, mes, año = st.columns(3)
        dia_nacimiento = dia.text_input("Día")
        mes_nacimiento = mes.text_input("Mes")
        año_nacimiento = año.text_input("Año")
    
        # Botón de envío
        enviado = st.form_submit_button("Enviar")
    
    # Mostrar los datos en formato JSON si se envía el formulario
    if enviado:
        if not all([primer_nombre, 
                    apellido, 
                    correo, 
                    contraseña, 
                    confirmar_contraseña]):
            st.warning("Por favor, complete todos los campos.")
        elif contraseña != confirmar_contraseña:
            st.error("Las contraseñas no coinciden.")
        else:
            datos_usuario = {
                "Primer Nombre": primer_nombre,
                "Apellido": apellido,
                "Correo Electrónico": correo,
                "Fecha de Nacimiento": {
                    "Día": dia_nacimiento,
                    "Mes": mes_nacimiento,
                    "Año": año_nacimiento
                }
            }
            st.success("Formulario enviado con éxito!")
            st.json(datos_usuario)
    ```
